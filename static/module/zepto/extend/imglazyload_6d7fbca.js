!function(e){var t=[];e.fn.imglazyload=function(r){function n(e){var t=s?window:c.offset(),n=t[f.win[0]],i=t[f.win[1]];return n>=e[f.img[0]]-r.threshold-i&&n<=e[f.img[0]]+e[f.img[1]]}function i(n){var i=e(n),o={},a=i;h||(e.each(i.get(0).attributes,function(){~this.name.indexOf("data-")&&(o[this.name]=this.value)}),a=e("<img />").attr(o)),i.trigger("startload"),a.on("load",function(){!h&&i.replaceWith(a),i.trigger("loadcomplete"),a.off("load")}).on("error",function(){var r=e.Event("error");i.trigger(r),r.defaultPrevented||t.push(n),a.off("error").remove()}).attr("src",i.attr(r.urlName))}function o(){var r,o,a,c;for(r=t.length;r--;)o=e(c=t[r]),a=o.offset(),n(a)&&(l.call(t,r,1),i(c))}function a(){!h&&g&&e(t).append(g)}var l=Array.prototype.splice,r=e.extend({threshold:0,container:window,urlName:"data-src",placeHolder:"",eventName:"scrollStop",innerScroll:!1,isVertical:!0},r),c=e(r.container),d=r.isVertical,s=e.isWindow(c.get(0)),f={win:[d?"scrollY":"scrollX",d?"innerHeight":"innerWidth"],img:[d?"top":"left",d?"height":"width"]},g=e(r.placeHolder).length?e(r.placeHolder):null,h=e(this).is("img");return!s&&(f.win=f.img),t=Array.prototype.slice.call(e(t.reverse()).add(this),0).reverse(),e.isFunction(e.fn.imglazyload.detect)?(a(),this):(e(document).ready(function(){a(),o()}),!r.innerScroll&&e(window).on(r.eventName+" ortchange loadimage",function(){o()}),e.fn.imglazyload.detect=o,this)}}(Zepto);